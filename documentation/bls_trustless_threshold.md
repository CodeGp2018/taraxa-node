Example for creating trustless threshold signature with bls programs based on https://github.com/dashpay/dips/blob/master/dip-0006/bls_m-of-n_threshold_scheme_and_dkg.md

Create 2 out of 3 threshold signature for 3 accounts.

First each account creates their own 2/3 threshold signature from random secret key:

```bash
./bls_make_threshold_keys --A 2 --B 3 --key 0000000000000000000000000000000000000000000000000000000000000001
0000000000000000000000000000000000000000000000000000000000000001 072D33DC96E174CD40EEE68F7CB4E86DD5F8622E66284CB13BD4B504535DF52A 4CF9791126FEBB738BD714AA1E885DBD7A0F3FE09097D69B9FBB6AF71654E114073E2051E8F48B07442C5F2EED7B9310FEDC2E87C00669037ECED2EC8C40BA07
0000000000000000000000000000000000000000000000000000000000000002 0E5A67B92DC2E99A81DDCD1EF969D0DBABF0C45CCC50996277A96A08A6BBEA53 E492D8C836D490C6AEF1D6069143A219F1F0ACAF4A32FB761DB68EECE3398B205368B4D94F5BAFDF9335ED9306C9435CC03CFFDC30509AA71555511E931D1704
0000000000000000000000000000000000000000000000000000000000000003 15879B95C4A45E67C2CCB3AE761EB94981E9268B3278E613B37E1F0CFA19DF7C 5E6394C392C0CF933C22D6A6658202F18AF6FC0454F2DEFCC1C08F7E8929690C98E2ECDD97063C7E9AC13BFEEC702FA1E60CAEA3155C962B75AC751C063F7201
```

```bash
./bls_make_threshold_keys --A 2 --B 3 --key 0000000000000000000000000000000000000000000000000000000000000002
0000000000000000000000000000000000000000000000000000000000000001 18ABF023108831D21A69469DC6C5BB51CADC1ECCE34AE8E9356CC4ACE6C86128 8295FCF077AA469D420854727D279D7180048E4E7D0CF50C931FD1CC50130505360BB735E2C5CDD4C663A01EFEDA047CB6C4F81A0B46BCC73AF3057FB7348B86
0000000000000000000000000000000000000000000000000000000000000002 0C347BC3E11063A27A9E3FBB8D8B769B9618BD99C695D1C1C9D98959CD90C241 F64F77D09BF4A03367E2DAA68A044C07CAC336CF638F8989E97B3AE658F90C037411340F8CBCD59199E514742C41FEAED41D5931EFFDC1DAF650EB36F5B3AE8F
0000000000000000000000000000000000000000000000000000000000000003 24E06BE6F198957495078659545131ED60F4DC66A9E0BAAAFF464E06B4592367 7BCC3EAB393F6F9D0074F8B738805A3498DEC401F66C5E04C93BC44F0C00B302C67FF610413D7283B768576D739B958F8587879FD3841B0993B48495022A559A
```

```bash
./bls_make_threshold_keys --A 2 --B 3 --key 0000000000000000000000000000000000000000000000000000000000000003
0000000000000000000000000000000000000000000000000000000000000001 0CCAA28E5425923F764DC9B4D481AC35C32FE39DC55B1E6FEF78362073FC827E 947097065E479F7F011C9E4B5E4D8525AA5AAF85FB1FEAE2A7805CDC7EB5EA0B0B3FFFF6A3156EC15F0C5593BE7A76D32BC7F8DDD2860009597C1C176FB4EB97
0000000000000000000000000000000000000000000000000000000000000002 1995451CA84B247EEC9B9369A903586B865FC73B8AB63CDFDEF06C40E7F904F9 2D5377900EE130D9FBFE0CF7864FA83923E2B1B3D8C89066713997E0EA0D1E14582CE04CC694260C86A4479D80D5BA8444EA2CEF0A7EBC5C8B080F5A9591A3A1
0000000000000000000000000000000000000000000000000000000000000003 013C8328BC70B6BCA8B50F9E7D85049949F02AD950115B3F2D68A2615BF58767 D8557A5DE68D1EF5EF60840F5AB981F9A2F2E005B6CD381964C8AFD31462F6151F3DAD5AEC32AF7C34CD2DA9F2B503D9A93FAB00C1B5A7B6D1F24052DF582F8E
```

To make notation easier define variables for above outputs:

```bash
export ID1=0000000000000000000000000000000000000000000000000000000000000001
export ID2=0000000000000000000000000000000000000000000000000000000000000002
export ID3=0000000000000000000000000000000000000000000000000000000000000003
```

Data of account 1:

```bash
export A1S1=072D33DC96E174CD40EEE68F7CB4E86DD5F8622E66284CB13BD4B504535DF52A
export A1S2=0E5A67B92DC2E99A81DDCD1EF969D0DBABF0C45CCC50996277A96A08A6BBEA53
export A1S3=15879B95C4A45E67C2CCB3AE761EB94981E9268B3278E613B37E1F0CFA19DF7C
export A1P1=4CF9791126FEBB738BD714AA1E885DBD7A0F3FE09097D69B9FBB6AF71654E114073E2051E8F48B07442C5F2EED7B9310FEDC2E87C00669037ECED2EC8C40BA07
export A1P2=E492D8C836D490C6AEF1D6069143A219F1F0ACAF4A32FB761DB68EECE3398B205368B4D94F5BAFDF9335ED9306C9435CC03CFFDC30509AA71555511E931D1704
export A1P3=5E6394C392C0CF933C22D6A6658202F18AF6FC0454F2DEFCC1C08F7E8929690C98E2ECDD97063C7E9AC13BFEEC702FA1E60CAEA3155C962B75AC751C063F7201
```

Account 2:

```bash
export A2S1=18ABF023108831D21A69469DC6C5BB51CADC1ECCE34AE8E9356CC4ACE6C86128
export A2S2=0C347BC3E11063A27A9E3FBB8D8B769B9618BD99C695D1C1C9D98959CD90C241
export A2S3=24E06BE6F198957495078659545131ED60F4DC66A9E0BAAAFF464E06B4592367
export A2P1=8295FCF077AA469D420854727D279D7180048E4E7D0CF50C931FD1CC50130505360BB735E2C5CDD4C663A01EFEDA047CB6C4F81A0B46BCC73AF3057FB7348B86
export A2P2=F64F77D09BF4A03367E2DAA68A044C07CAC336CF638F8989E97B3AE658F90C037411340F8CBCD59199E514742C41FEAED41D5931EFFDC1DAF650EB36F5B3AE8F
export A2P3=7BCC3EAB393F6F9D0074F8B738805A3498DEC401F66C5E04C93BC44F0C00B302C67FF610413D7283B768576D739B958F8587879FD3841B0993B48495022A559A
```

Account 3:

```bash
export A3S1=0CCAA28E5425923F764DC9B4D481AC35C32FE39DC55B1E6FEF78362073FC827E
export A3S2=1995451CA84B247EEC9B9369A903586B865FC73B8AB63CDFDEF06C40E7F904F9
export A3S3=013C8328BC70B6BCA8B50F9E7D85049949F02AD950115B3F2D68A2615BF58767
export A3P1=947097065E479F7F011C9E4B5E4D8525AA5AAF85FB1FEAE2A7805CDC7EB5EA0B0B3FFFF6A3156EC15F0C5593BE7A76D32BC7F8DDD2860009597C1C176FB4EB97
export A3P2=2D5377900EE130D9FBFE0CF7864FA83923E2B1B3D8C89066713997E0EA0D1E14582CE04CC694260C86A4479D80D5BA8444EA2CEF0A7EBC5C8B080F5A9591A3A1
export A3P3=D8557A5DE68D1EF5EF60840F5AB981F9A2F2E005B6CD381964C8AFD31462F6151F3DAD5AEC32AF7C34CD2DA9F2B503D9A93FAB00C1B5A7B6D1F24052DF582F8E
```

Accounts 1, 2 and 3 publish above public keys shares to everyone participating in this setup.

Account 1 sends its secret key share 2 (A1S2) to account 2 in secret and its secret key share 3 (A1S3) to account 3 in secret.
Similarly account 2 sends its secret key share 1 (A2S1) to account 1 in secret and its secret key share 3 (A2S3) to account 3 in secret.
Finally account 3 sends its secret key share 1 (A3S1) to account 1 in secret and its secret key share 2 (A3S2) to account 2 in secret.

At this point A1S1 is known only by account 1, A2S2 is known only by account 2 and A3S3 is known only by account 3.

Account 1 can aggregate its secret key share 1 with secret key shares 2 and 3 received from accounts 2 and 3, giving account 1's secret share for trustless threshold signature:

```bash
./bls_merge_secret_keys --id $ID1 --id $ID2 --id $ID3 --seckey $A1S1 --seckey $A2S1 --seckey $A3S1
229536BF67315B345E474489F64F3399E3C3ADC24DF349E944B00726B9BD3E9E
```

Accounts 2 and 3 do the same with their shares of which shares 2 and 3 respectively are known only to accounts 2 and 3:

```bash
./bls_merge_secret_keys --id $ID1 --id $ID2 --id $ID3 --seckey $A1S2 --seckey $A2S2 --seckey $A3S2
200708FC8E62B667025A3B93EC9E672BC7E7DB849BE693C1E8600E4D737A7D2F
```

```bash
./bls_merge_secret_keys --id $ID1 --id $ID2 --id $ID3 --seckey $A1S3 --seckey $A2S3 --seckey $A3S3
1D78DB39B5941199A66D329DE2ED9ABDAC0C0946E9D9DD9A8C1015742D37BBC0
```

Shorthand for threshold secret shares:

```bash
export A1TS=229536BF67315B345E474489F64F3399E3C3ADC24DF349E944B00726B9BD3E9E
export A2TS=200708FC8E62B667025A3B93EC9E672BC7E7DB849BE693C1E8600E4D737A7D2F
export A3TS=1D78DB39B5941199A66D329DE2ED9ABDAC0C0946E9D9DD9A8C1015742D37BBC0
```

Aggregate accounts' 1, 2 and 3 public key shares for trustless threshold signature:

```bash
./bls_merge_public_keys --id $ID1 --id $ID2 --id $ID3 --pubkey $A1P1 --pubkey $A2P1 --pubkey $A3P1
9FAF1B7161A5C6C2F0083DCB2E350E1D49F33F34678CE66B6A30F21F3FF20E2389720616185F3D2EE2CAAFD7C778755E211EDBABA76B6A4C9D8184DFCC6C428A
```

```bash
./bls_merge_public_keys --id $ID1 --id $ID2 --id $ID3 --pubkey $A1P2 --pubkey $A2P2 --pubkey $A3P2
8082B070F99F7218EAC560B9A614B6694D71A5D8F4EC81B0E9A3771478EF771E1C0408034A258A57C9BE966149BA383E2FEF30615A88FE650B98958CD1B72410```

```bash
./bls_merge_public_keys --id $ID1 --id $ID2 --id $ID3 --pubkey $A1P3 --pubkey $A2P3 --pubkey $A3P3
3BFD605FA285007FD216814974AC68A2858D9E8952414BE292D02F6AD3D8C0090FA2E95DFC64DBBD194701697F09A44B722C1234BED2AC1BA96D51747678028B```

```bash
export A1TP=9FAF1B7161A5C6C2F0083DCB2E350E1D49F33F34678CE66B6A30F21F3FF20E2389720616185F3D2EE2CAAFD7C778755E211EDBABA76B6A4C9D8184DFCC6C428A
export A2TP=8082B070F99F7218EAC560B9A614B6694D71A5D8F4EC81B0E9A3771478EF771E1C0408034A258A57C9BE966149BA383E2FEF30615A88FE650B98958CD1B72410
export A3TP=3BFD605FA285007FD216814974AC68A2858D9E8952414BE292D02F6AD3D8C0090FA2E95DFC64DBBD194701697F09A44B722C1234BED2AC1BA96D51747678028B
```

Public key of threshold signature:

```bash
...
```

Accounts 1 and 2 create trustless threshold signature:

```bash
./bls_sign_message --message deadbeef --key $A1TS
E7F70E06309FB91849976A71F578A3EB0901491237E4975D8D0A8464265D928E
```

```bash
./bls_sign_message --message deadbeef --key $A2TS
D2BEEBB85318182050DEE70831B9A640C5A878A2305A6AE980811A97E82CFF92
```

Verification:

```bash
...
```
